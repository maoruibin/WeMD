# Icon æ›´æ–°ä»»åŠ¡é˜Ÿåˆ— - ä½¿ç”¨æŒ‡å—

## ğŸ“– æ¦‚è¿°

è¿™ä¸ªä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿå¯ä»¥è‡ªåŠ¨åŒ–å®Œæˆ icon èµ„æºæ›´æ¢çš„å…¨æµç¨‹ï¼š

1. **å¯¼å‡º SVG** - ä» `logo-preview-v2.html` æå– SVG å›¾æ ‡
2. **è½¬æ¢ PNG** - å°† SVG è½¬æ¢ä¸ºå¤šç§å°ºå¯¸çš„ PNG
3. **ä¸Šä¼ å›¾åºŠ** - å°†å›¾æ ‡ä¸Šä¼ åˆ°é…ç½®çš„å›¾åºŠ
4. **æ›´æ–°å¼•ç”¨** - æ›´æ–°é¡¹ç›®ä¸­æ‰€æœ‰å¼•ç”¨å›¾æ ‡çš„åœ°æ–¹

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‡†å¤‡å·¥ä½œ

ç¡®ä¿ `logo-preview-v2.html` ä¸­çš„å›¾æ ‡è®¾è®¡å·²ç»å®Œæˆã€‚

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
```

éœ€è¦ä»¥ä¸‹ä¾èµ–ä¹‹ä¸€ç”¨äº PNG è½¬æ¢ï¼š
- `sharp` (æ¨è) - æœ€å¿«çš„å›¾ç‰‡å¤„ç†åº“
- `puppeteer` - ä½¿ç”¨æµè§ˆå™¨æ¸²æŸ“
- `canvas` - ä½¿ç”¨ Node.js canvas

### 3. é…ç½®å›¾åºŠï¼ˆå¯é€‰ï¼‰

ç¼–è¾‘ `scripts/icon-update/config.ts` ä¸­çš„ä¸Šä¼ é…ç½®ï¼š

```typescript
upload: {
  enabled: true,
  provider: 'official',  // æˆ– 'qiniu', 'aliyun', 'tencent', 's3'
  cdnUrl: 'https://img.wemd.app',
}
```

### 4. è¿è¡Œæ›´æ–°

```bash
# å®Œæ•´æ›´æ–°æµç¨‹
pnpm update-icons

# ä»…å¯¼å‡ºï¼Œä¸ä¸Šä¼ 
pnpm update-icons --export-only

# é¢„è§ˆæ¨¡å¼ï¼ˆä¸å®é™…ä¿®æ”¹æ–‡ä»¶ï¼‰
pnpm update-icons --dry-run

# æŒ‡å®šå›¾åºŠä¸Šä¼ 
pnpm update-icons --upload qiniu
```

---

## ğŸ“‹ ä»»åŠ¡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Create Backup  - åˆ›å»ºå¤‡ä»½                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. Export SVG      - å¯¼å‡º SVG å›¾æ ‡                             â”‚
â”‚     â”œâ”€ favicon-dark.svg                                          â”‚
â”‚     â””â”€ favicon-light.svg                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. Convert PNG    - è½¬æ¢ PNG (16x16 ~ 512x512)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. Copy Web Icons - å¤åˆ¶åˆ° web/public ç›®å½•                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. Upload Icons    - ä¸Šä¼ åˆ°å›¾åºŠ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  6. Update References - æ›´æ–°æ–‡ä»¶ä¸­çš„å¼•ç”¨åœ°å€                    â”‚
â”‚     â”œâ”€ README.md                                                 â”‚
â”‚     â”œâ”€ apps/web/src/store/editorStore.ts                       â”‚
â”‚     â””â”€ apps/docs/src/.vuepress/config.ts                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å‘½ä»¤è¡Œé€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| `--dry-run` | é¢„è§ˆæ¨¡å¼ï¼Œä¸å®é™…ä¿®æ”¹æ–‡ä»¶ |
| `--export-only` | ä»…å¯¼å‡ºå›¾æ ‡ï¼Œä¸ä¸Šä¼ ä¸æ›´æ–° |
| `--no-upload` | ç¦ç”¨ä¸Šä¼ æ­¥éª¤ |
| `--upload <provider>` | æŒ‡å®šå›¾åºŠä¸Šä¼  (official/qiniu/aliyun/s3) |
| `--verbose` | æ˜¾ç¤ºè¯¦ç»†æ—¥å¿— |
| `--preview` | æ˜¾ç¤ºé…ç½®é¢„è§ˆ |

---

## ğŸ“ è¾“å‡ºæ–‡ä»¶

### Web å›¾æ ‡
- `apps/web/public/favicon-dark.svg`
- `apps/web/public/favicon-dark.png`
- `apps/web/public/favicon-light.svg`

### Electron å›¾æ ‡
- `apps/electron/assets/icon.png`
- `apps/electron/assets/icon.ico` (éœ€æ‰‹åŠ¨ç”Ÿæˆ)

### ä¸´æ—¶å¯¼å‡º
- `.assets/icons/` - å„å°ºå¯¸ PNG

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½**: æ‰§è¡Œå‰ä¼šè‡ªåŠ¨åˆ›å»ºå¤‡ä»½åˆ° `.backups/icon-update/`
2. **å¤±è´¥å›æ»š**: ä»»ä½•æ­¥éª¤å¤±è´¥ä¼šè‡ªåŠ¨å›æ»šå·²ä¿®æ”¹çš„æ–‡ä»¶
3. **PNG è½¬æ¢**: éœ€è¦å®‰è£… `sharp` æˆ–å…¶ä»–å›¾ç‰‡å¤„ç†åº“
4. **å›¾åºŠé…ç½®**: ä¸Šä¼ å‰ç¡®ä¿å›¾åºŠé…ç½®æ­£ç¡®

---

## ğŸ› æ•…éšœæ’é™¤

### PNG è½¬æ¢å¤±è´¥
```bash
# å®‰è£… sharp
pnpm add -D sharp
```

### ä¸Šä¼ å¤±è´¥
æ£€æŸ¥å›¾åºŠé…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ API å¯†é’¥æœ‰æ•ˆã€‚

### å›æ»šå¤±è´¥
å¤‡ä»½æ–‡ä»¶ä¿å­˜åœ¨ `.backups/icon-update/`ï¼Œå¯æ‰‹åŠ¨æ¢å¤ã€‚
