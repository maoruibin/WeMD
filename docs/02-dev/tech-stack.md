# 技术栈

> WeMD 使用的技术选型

---

## 🎯 技术选型原则

1. **现代化** - 使用主流且稳定的技术
2. **轻量级** - 避免过度工程化
3. **可维护** - 代码清晰，易于迭代
4. **性能优先** - 保证流畅的用户体验

---

## 💻 前端技术栈

### Web 应用

| 类别 | 技术 | 版本 | 用途 |
|------|------|------|------|
| 框架 | React | 18.3 | UI 框架 |
| 语言 | TypeScript | 5.0 | 类型安全 |
| 构建 | Vite | 5.x | 构建工具 |
| 编辑器 | CodeMirror | 6.x | Markdown 编辑 |
| 状态 | Zustand | 4.x | 状态管理 |
| 路由 | React Router | 6.x | 页面路由 |
| 图标 | lucide-react | latest | 图标库 |
| 通知 | react-hot-toast | latest | 消息提示 |

### Markdown 处理

| 类别 | 技术 | 版本 | 用途 |
|------|------|------|------|
| 解析 | markdown-it | 14.x | Markdown 解析 |
| 数学 | KaTeX | latest | 数学公式渲染 |
| 代码高亮 | highlight.js | latest | 代码高亮 |
| 样式内联 | juice | latest | CSS 内联化 |

---

## 📦 桌面端

| 类别 | 技术 | 版本 | 用途 |
|------|------|------|------|
| 框架 | Electron | 28.x | 桌面应用框架 |
| 打包 | electron-builder | latest | 应用打包 |

---

## 🔧 开发工具

| 类别 | 技术 | 版本 | 用途 |
|------|------|------|------|
| 包管理 | pnpm | 9.x | 包管理器 |
| 构建 | Turborepo | 2.x | Monorepo 构建 |
| 代码规范 | ESLint | latest | 代码检查 |
| 格式化 | Prettier | 3.x | 代码格式化 |

---

## 🌐 服务端

### 图床上传

| 类别 | 技术 | 用途 |
|------|------|------|
| 存储 | Cloudflare R2 | 图片存储 |
| 计算 | Cloudflare Worker | 图片上传处理 |

---

## 🗄️ 存储

### 客户端存储

| 技术 | 用途 | 容量 |
|------|------|------|
| IndexedDB | 文档存储 | 大容量 |
| LocalStorage | 用户设置 | 5MB |
| File System API | 本地文件访问 | 无限制 |

---

## 📋 技术债务

### 待优化

| 项目 | 优先级 | 说明 |
|------|--------|------|
| TypeScript 严格模式 | P2 | 当前 `strict: false` |
| 单元测试覆盖 | P1 | 核心逻辑需要测试 |
| E2E 测试 | P2 | Playwright 集成 |
| 性能监控 | P2 | 添加性能追踪 |

### 技术升级计划

| 包 | 当前版本 | 目标版本 | 计划时间 |
|----|----------|----------|----------|
| React | 18.3 | 19.x | 2025 Q2 |
| Vite | 5.x | 6.x | 2025 Q2 |
| Electron | 28.x | 31.x | 2025 Q3 |

---

## 🚫 不使用的技术

| 技术 | 不使用原因 |
|------|-----------|
| Tailwind CSS | 已有完善的设计系统 |
| Redux | Zustand 更轻量 |
| Next.js | 不需要 SSR |
| MobX | Zustand 足够 |

---

## 📝 变更记录

| 日期 | 变更内容 |
|------|----------|
| 2024-01-13 | 初始版本 |
